<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–û–±—ä—è—Å–Ω–∏ —Ñ—Ä–∞–∑—É –ò–ò</title>
  <link rel="stylesheet" href="style.css" />

  <!-- Markdown renderer -->
  <script src="https://cdn.jsdelivr.net/npm/marked@12/marked.min.js"></script>

  <!-- Yandex Games SDK -->
  <script src="https://yandex.ru/games/sdk/v2"></script>

  <script>
    // ‚îÄ‚îÄ Block context menu (right-click + long-tap on mobile) ‚îÄ‚îÄ
    document.addEventListener('contextmenu', e => e.preventDefault());

    // ‚îÄ‚îÄ Block text selection via mouse / drag of images ‚îÄ‚îÄ
    document.addEventListener('selectstart', e => {
      if (e.target.tagName !== 'TEXTAREA' && e.target.tagName !== 'INPUT') {
        e.preventDefault();
      }
    });
    document.addEventListener('dragstart', e => e.preventDefault());

    // ‚îÄ‚îÄ Prevent pull-to-refresh on mobile (iOS Safari needs JS) ‚îÄ‚îÄ
    let _touchStartY = 0;
    document.addEventListener('touchstart', e => {
      _touchStartY = e.touches[0].clientY;
    }, { passive: true });
    document.addEventListener('touchmove', e => {
      const dy = e.touches[0].clientY - _touchStartY;
      if (dy > 0 && (window.scrollY === 0 || document.documentElement.scrollTop === 0)) {
        e.preventDefault();
      }
    }, { passive: false });
  </script>
</head>
<body>

<div id="game-container">

  <!-- ‚îÄ‚îÄ –ì–ª–∞–≤–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ ‚îÄ‚îÄ -->
  <h1 id="main-title">–û–±—ä—è—Å–Ω–∏ —Ñ—Ä–∞–∑—É –ò–ò</h1>
  <div id="level-indicator">–£—Ä–æ–≤–µ–Ω—å 1</div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       –î–û–°–ö–ê 1 ‚Äî –∑–µ–ª—ë–Ω–∞—è, —Ü–≤–µ—Ç 1
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="board board-1" id="board-1">
    <h2 class="board-title">–ó–∞—Å—Ç–∞–≤—å –ò–ò –Ω–∞–ø–∏—Å–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Ñ—Ä–∞–∑—É</h2>

    <!-- –ë–µ–ª—ã–π –ª–∏—Å—Ç –±—É–º–∞–≥–∏ –Ω–∞ —Å–∫–æ—Ç—á–µ -->
    <div class="paper-container">
      <div class="white-paper">
        <span id="target-phrase">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</span>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       –î–û–°–ö–ê 2 ‚Äî —Å–∏–Ω—è—è, —Ü–≤–µ—Ç 2
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="board board-2" id="board-2">
    <h2 class="board-title">–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –±—É–∫–≤</h2>

    <!-- –ö—Ä–∞—Å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã—Ö –∫–æ—Ä–Ω–µ–π -->
    <div class="forbidden-words-container" id="forbidden-container"></div>
  </div>

  <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø—Ä–µ—Ç–∞–º–∏ -->
  <div class="btn-row">
    <button class="btn btn-video" id="btn-remove-restriction">
      –£–±—Ä–∞—Ç—å –∑–∞–ø—Ä–µ—Ç üé¨
    </button>
    <button class="btn btn-cancel hidden" id="btn-cancel-selection">
      –û—Ç–º–µ–Ω–∞
    </button>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       –í–í–û–î –ü–†–û–ú–¢–ê
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="input-section">
    <textarea
      id="prompt-textarea"
      class="prompt-textarea"
      placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø—Ä–æ–º—Ç –∑–¥–µ—Å—å‚Ä¶"
      rows="5"
    ></textarea>

    <div id="validation-msg" class="validation-message"></div>

    <div class="btn-row">
      <button class="btn btn-primary" id="btn-send-prompt" disabled>
        –û—Ç–ø—Ä–∞–≤–∏—Ç—å Prompt
      </button>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       –û–¢–í–ï–¢ –ù–ï–ô–†–û–°–ï–¢–ò
       ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="response-section">
    <div class="response-box" id="response-box">
      <span class="placeholder-text">–û—Ç–≤–µ—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å</span>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ -->
    <div class="result-btns hidden" id="result-btns">
      <button class="btn btn-video hidden" id="btn-retry">
        –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –µ—â—ë —Ä–∞–∑ üé¨
      </button>
      <button class="btn btn-success hidden" id="btn-next-word">
        –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–ª–æ–≤—É ‚Üí
      </button>
    </div>
  </div>

</div><!-- #game-container -->

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     IAP OVERLAY ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–∞–∂–¥—ã–µ 10 —É—Ä–æ–≤–Ω–µ–π
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="overlay hidden" id="iap-overlay">
  <div class="iap-modal">
    <span class="trophy">üèÜ</span>
    <h2>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h2>
    <p>–í—ã –ø—Ä–æ—à–ª–∏ 10 —Ñ—Ä–∞–∑!</p>
    <p>–ß—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É, –∫—É–ø–∏—Ç–µ –µ—â—ë 10 –Ω–æ–≤—ã—Ö —Ñ—Ä–∞–∑:</p>
    <div class="price">90 ‚ÇΩ</div>
    <button class="btn btn-buy" id="btn-buy">–ö—É–ø–∏—Ç—å</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     LOADING OVERLAY ‚Äî —Å–∫—Ä—ã–≤–∞–µ—Ç UI –¥–æ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
     ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="loading-overlay" class="loading-overlay">
  <div class="loading-content">
    <div class="loading-title">–û–±—ä—è—Å–Ω–∏ —Ñ—Ä–∞–∑—É –ò–ò</div>
    <div class="spinner-dots loading-dots">
      <div class="spinner-dot"></div>
      <div class="spinner-dot"></div>
      <div class="spinner-dot"></div>
    </div>
  </div>
</div>

<!-- Data & logic -->
<script src="data.js"></script>
<script src="game.js"></script>
</body>
</html>
